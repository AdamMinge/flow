# -------------------------------------------------------------------------------------------------- #
# -------------------------------- Set CMake version and project ----------------------------------- #
# -------------------------------------------------------------------------------------------------- #
cmake_minimum_required(VERSION 3.11)
project(FLOW VERSION 0.1.0 LANGUAGES CXX)
# -------------------------------------------------------------------------------------------------- #
# ---------------------------------- Include config and macros ------------------------------------- #
# -------------------------------------------------------------------------------------------------- #
include(${FLOW_SOURCE_DIR}/cmake/config.cmake)
include(${FLOW_SOURCE_DIR}/cmake/macros.cmake)
# -------------------------------------------------------------------------------------------------- #
# -------------------------------------- Add subdirectories ---------------------------------------- #
# -------------------------------------------------------------------------------------------------- #
add_subdirectory(dependencies)
add_subdirectory(src/flow)

if(FLOW_BUILD_TEST)
    add_subdirectory(tests)
endif()
# -------------------------------------------------------------------------------------------------- #
# ---------------------------------------- Export targets ------------------------------------------ #
# -------------------------------------------------------------------------------------------------- #
flow_export_modules()
# -------------------------------------------------------------------------------------------------- #
# ------------------------------ Generate and install documentation -------------------------------- #
# -------------------------------------------------------------------------------------------------- #
if(FLOW_BUILD_DOCUMENTATION)
    flow_generate_documentation()
    flow_install_documentation()
endif()
# -------------------------------------------------------------------------------------------------- #

